<!-- reporthandler.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report Handler</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        .evidence-box {
            border: 1px solid #ccc;
            padding: 15px;
            margin-bottom: 15px;
        }
        select, textarea {
            width: 100%;
            margin-bottom: 15px;
        }
        textarea {
            min-height: 80px;
        }
        button {
            padding: 8px 15px;
            margin-right: 10px;
            cursor: pointer;
        }
        h1, h2 {
            color: #333;
        }
        .punishment-options {
            margin: 20px 0;
        }
        .punishment-options label {
            margin-right: 15px;
        }
    </style>
</head>
<body>
    <h1>Report Handler</h1>
    <h2>Recent report:</h2>
    
    <div>
        <label for="globalReason">Set Reason for All Items:</label>
        <select id="globalReason">
            <option value="">-- Select Reason --</option>
            <option value="Harassment">Harassment</option>
            <option value="Inappropriate">Inappropriate</option>
            <option value="Privacy">Privacy</option>
            <option value="Adult Content">Adult Content</option>
            <option value="Sexual Content">Sexual Content</option>
            <option value="Misusing Boiby Systems">Misusing Boiby Systems</option>
            <option value="Terrorism/Extremism">Terrorism/Extremism</option>
            <option value="Political Content">Political Content</option>
            <option value="Boiby Endangerment">Boiby Endangerment</option>
            <option value="Discriminatory Content">Discriminatory Content</option>
            <option value="Violent Content and Gore">Violent Content and Gore</option>
            <option value="Privacy: Sharing PII">Privacy: Sharing PII</option>
            <option value="Privacy: Asking for PII">Privacy: Asking for PII</option>
            <option value="Doxxing">Doxxing</option>
            <option value="Seeking Sexual Content">Seeking Sexual Content</option>
            <option value="Intellectual Property Violation">IP Violation</option>
            <option value="Scamming">Scamming</option>
            <option value="Misinformation">Misinformation</option>
            <option value="Child Safety">Child Safety</option>
            <option value="Account Theft">Account Theft</option>
            <option value="Abuse of Boiby Employees">Abuse of Boiby Employees</option>
            <option value="Excessive Profanity">Excessive Profanity</option>
            <option value="Illegal and Regulated Content">Illegal and Regulated Content</option>
            <option value="Boiby Economy">Boiby Economy</option>
            <option value="Cheats and Exploits">Cheats and Exploits</option>
            <option value="Modified Client">Modified Client</option>
            <option value="Spam">Spam</option>
            <option value="Chargeback">Chargeback</option>
            <option value="Minimum Age Requirement">Minimum Age Requirement</option>
            <option value="Ban Evasion">Ban Evasion</option>
            <option value="Extortion and Blackmail">Extortion and Blackmail</option>
            <option value="Directing Users Off-Platform">Directing Users Off-Platform</option>
            <option value="Contests and Sweepstakes">Contests and Sweepstakes</option>
            <option value="Gambling Content">Gambling Content</option>
            <option value="Real-Life Threats">Real-Life Threats</option>
            <option value="Real-World Tragic Events">Real-World Tragedy</option>
            <option value="Impersonation">Impersonation</option>
            <option value="Dangerous Activities">Dangerous Activities</option>
            <option value="Disruptive Audio">Disruptive Audio</option>
            <option value="Dating and Romantic Content">Dating and Romantic Content</option>
            <option value="Malicious Software">Malicious Software</option>
        </select>
    </div>
    
    <div id="evidenceContainer"></div>
    
    <div class="punishment-options">
        <h3>Punishment:</h3>
        <input type="radio" id="Warn" name="State" value="Warn">
        <label for="Warn">Warn</label>
        <input type="radio" id="Ban1Day" name="State" value="Ban1Day">
        <label for="Ban1Day">1 Day</label>
        <input type="radio" id="Ban3Days" name="State" value="Ban3Days">
        <label for="Ban3Days">3 Days</label>
        <input type="radio" id="Ban7Days" name="State" value="Ban7Days">
        <label for="Ban7Days">7 Days</label>
        <input type="radio" id="Delete" name="State" value="Delete">
        <label for="Delete">Terminate</label>
    </div>
    
    <div>
        <label for="note">Moderator Note (presets):</label>
        <select id="note" name="note">
            <option value="nonote">No moderator note</option>
            <option value="This content is not appropriate. Do not discuss or post about inappropriate topics on Boiby.">CONTENT (GENERAL)</option>
            <option value="Your account has been permanently banned due to violating our Child Safety policies. Boiby enforces an absolute zero-tolerance policy against any form of child exploitation, endangerment, or harmful behavior involving minors. In circumstances where Boiby believes users are at risk of harm, Boiby may file a report with relevant authorities.">CHILD SAFETY (PERMANENT</option>
            <option value="Boiby prohibits attempts to mislead others by impersonating other people's identity or affiliations.">IMPERSONATION</option>
            <option value="Do not spam or repeatedly post chat or content.">SPAM</option>
            <option value="Do not create accounts just to harass others or break rules.">ACCOUNT TO BREAK RULES</option>
            <option value="We believe in free expression and allow the use of profanity in appropriate contexts. However, excessive, overly offensive, aggressive, or disruptive profanity is not permitted.">EXCESSIVE PROFANITY</option>
            <option value="Boiby prohibits users to spread misinformation or content intended to mislead others.">MISINFORMATION</option>
            <option value="Boiby prohibits any form of bullying, harassment, or harmful behaviour directed at other users or community members.">HARASSMENT</option>
            <option value="Boiby does not permit discriminatory speech, content, or actions based on race or ethnic origin, national origin, religion or religious affiliation, gender, gender identity, or sexual orientation.">DISCRIMINATORY</option>
            <option value="Scamming is a violation of our Terms of Use. Do not continue to scam on Boiby.">SCAMS</option>
            <option value="Adult content is not tolerated on Boiby!">ADULT CONTENT</option>
            <option value="Your account has been permanently banned due to violating our Boiby Endangerment Community Rule. Our policies prohibit this sort of content and behavior.">BOIBY ENDANGERMENT</option>
            <option value="Boiby prohibits any form of extortion, blackmail, or coercive threats towards others.">EXTORTION</option>
            
            <option value="Dating or other inappropriate behavior is not permitted on Boiby.">DATING</option>
            <option value="Boiby prohibits attempts to bypass our systems that keep our platform and community safe and secure.">BYPASSES</option>
            <option value="Do not discuss, post about, or upload content that recreates, mocks, or capitalizes off of specific real-world tragic events.">TRAGEDY</option>
            <option value="This account has been closed due to a violation of our Terms of Use. Do not create games or advertisements intended to scam other players.">SCAM GAMES (PERMANENT)</option>
            <option value="Your username contains inappropriate content that is not allowed on Boiby.">USERNAME 1</option>
            <option value="This username is not allowed on Boiby.">USERNAME 2</option>
            <option value="Your account has been moderated for making threats against other users.">THREATS</option>
            <option value="This display name is not appropriate for Boiby.">DISPLAY NAME (GENERAL)</option>
            <option value="Boiby prohibits uploads of malicious or harmful software or files. This includes adware, spyware, stealers, remote access trojans, or any other unwanted software.">MALICIOUS SOFTWARE</option>
            <option value="You created or used an account to avoid a moderation action taken against another account.">BAN EVASION</option>
            <option value="Your account has been permanently banned for repeatedly violating the Terms of Use on multiple accounts.">MULTIPLE ACCOUNT VIOLATION/option>
            <option value="Do not post about your moderation actions, or additional moderation actions may be taken against your account. If you would like to discuss your bans, please use the Appeals Portal to contact us.">TALKING ABOUT MOD ACTIONS</option>
            <option value="Your account has been permanently banned due to multiple and/or severe violations of our Terms of Use.">SEVERE VIOLATIONS (PERMANENT)</option>
            <option value="Your account has been moderated for creating, promoting, or participating in inappropriate behavior or content. This is a violation of our Terms of Use.">INAPPROPRIATE CONTENT - CREATING/PARTICIPATING</option>
        </select>
        
        <label for="notecustom">Custom Moderator Note (optional):</label>
        <textarea id="notecustom" name="notecustom" rows="4"></textarea>
    </div>
    
    <button type="button" id="submitButton">Submit</button>
    
    <script>
        // Load evidence items from previous page
        const evidenceItems = JSON.parse(localStorage.getItem('reportEvidenceItems')) || [];
        const evidenceContainer = document.getElementById('evidenceContainer');
        
        // Display evidence items with reason dropdowns
        evidenceItems.forEach((item, index) => {
            const evidenceBox = document.createElement('div');
            evidenceBox.className = 'evidence-box';
            evidenceBox.innerHTML = `
                <h3>Evidence Item ${index + 1}</h3>
                <p>${item}</p>
                <label for="reason${index}">Reason:</label>
                <select id="reason${index}" class="reason-select">
                    <option value="">-- Select Reason --</option>
                    <option value="Harassment">Harassment</option>
                    <option value="Inappropriate">Inappropriate</option>
                    <option value="Privacy">Privacy</option>
                    <option value="Adult Content">Adult Content</option>
                    <option value="Sexual Content">Sexual Content</option>
                    <option value="Misusing Boiby Systems">Misusing Boiby Systems</option>
                    <option value="Terrorism/Extremism">Terrorism/Extremism</option>
                    <option value="Political Content">Political Content</option>
                    <option value="Boiby Endangerment">Boiby Endangerment</option>
                    <option value="Discriminatory Content">Discriminatory Content</option>
                    <option value="Violent Content and Gore">Violent Content and Gore</option>
                    <option value="Privacy: Sharing PII">Privacy: Sharing PII</option>
                    <option value="Privacy: Asking for PII">Privacy: Asking for PII</option>
                    <option value="Doxxing">Doxxing</option>
                    <option value="Seeking Sexual Content">Seeking Sexual Content</option>
                    <option value="Intellectual Property Violation">IP Violation</option>
                    <option value="Scamming">Scamming</option>
                    <option value="Misinformation">Misinformation</option>
                    <option value="Child Safety">Child Safety</option>
                    <option value="Account Theft">Account Theft</option>
                    <option value="Abuse of Boiby Employees">Abuse of Boiby Employees</option>
                    <option value="Excessive Profanity">Excessive Profanity</option>
                    <option value="Illegal and Regulated Content">Illegal and Regulated Content</option>
                    <option value="Boiby Economy">Boiby Economy</option>
                    <option value="Cheats and Exploits">Cheats and Exploits</option>
                    <option value="Modified Client">Modified Client</option>
                    <option value="Spam">Spam</option>
                    <option value="Chargeback">Chargeback</option>
                    <option value="Minimum Age Requirement">Minimum Age Requirement</option>
                    <option value="Ban Evasion">Ban Evasion</option>
                    <option value="Extortion and Blackmail">Extortion and Blackmail</option>
                    <option value="Directing Users Off-Platform">Directing Users Off-Platform</option>
                    <option value="Contests and Sweepstakes">Contests and Sweepstakes</option>
                    <option value="Gambling Content">Gambling Content</option>
                    <option value="Real-Life Threats">Real-Life Threats</option>
                    <option value="Real-World Tragic Events">Real-World Tragedy</option>
                    <option value="Impersonation">Impersonation</option>
                    <option value="Dangerous Activities">Dangerous Activities</option>
                    <option value="Disruptive Audio">Disruptive Audio</option>
                    <option value="Dating and Romantic Content">Dating and Romantic Content</option>
                    <option value="Malicious Software">Malicious Software</option>
                </select>
            `;
            evidenceContainer.appendChild(evidenceBox);
        });
        
        // Global reason change handler
        document.getElementById('globalReason').addEventListener('change', function() {
            const globalReason = this.value;
            if (globalReason) {
                document.querySelectorAll('.reason-select').forEach(select => {
                    select.value = globalReason;
                });
            }
        });
        
        // Submit handler
        document.getElementById('submitButton').addEventListener('click', function() {
            // Validate all reasons are selected
            let allReasonsValid = true;
            document.querySelectorAll('.reason-select').forEach(select => {
                if (!select.value) {
                    allReasonsValid = false;
                }
            });
            
            if (!allReasonsValid) {
                alert('Please select a reason for all evidence items.');
                return;
            }
            
            // Validate punishment is selected
            if (!document.querySelector('input[name="State"]:checked')) {
                alert('Please select a punishment.');
                return;
            }
            
            // Prepare form data
            const formData = {
                state: document.querySelector('input[name="State"]:checked').value,
                note: document.getElementById('note').value,
                customNote: document.getElementById('notecustom').value,
                classicViolations: []
            };
            
            // Collect evidence items with reasons
            evidenceItems.forEach((item, index) => {
                const reason = document.getElementById(`reason${index}`).value;
                formData.classicViolations.push({
                    violationType: "General/Chat",
                    reason: reason,
                    evidence: item
                });
            });
            
            // Save to localStorage and redirect to ban page
            localStorage.setItem('banFormData', JSON.stringify(formData));
            window.location.href = 'not-approved.html';
        });
    </script>
</body>
</html>
