<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home - Boiby</title>
  <link id="themeStylesheet" href="/ban-new.css" rel="stylesheet" type="text/css" media="all">
  <style>
    * { font-family: "Inter", serif; box-sizing: border-box; margin:0; padding:0; }
    body { margin: 0; background:#f5f5f5; }

    header {
      position: sticky;
      top: 0;
      width: 100%;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 10px;
      background: #fff;
      color: #000;
      z-index: 1000;
    }
    .left, .right { display: flex; align-items: center; }
    .left img { height:32px; margin-right:32px; }
    .left nav a { margin-right:32px; text-decoration:none; color:inherit; font-size:16px; }
    .right .user-circle { width:32px; height:32px; border-radius:50%; background:#eee; margin-right:5px; }
    .right span, .right img { font-size:16px; margin-left:5px; margin-right:10px; }
    .right img { width:32px; height:32px; }

    /* Sidebar */
    #sidebar {
      position: fixed;
      top: 44px;
      left: 0;
      width: 160px;
      height: 100%;
      background: #fff;
      border-right:1px solid #ddd;
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:12px;
      z-index:900;
    }
    #sidebar a, #sidebar .premium-btn { display:block; text-decoration:none; color:#000; margin-bottom:12px; font-size:16px; }
    .premium-btn { margin-top:auto; padding:8px; border:none; background:#ffd633; border-radius:4px; cursor:pointer; font-weight:600; }

    #hamburger { display:none; font-size:22px; cursor:pointer; margin-right:12px; }
    @media (max-width:1599px){ #sidebar{display:none;} #hamburger{display:block;} }
    @media (min-width:1600px){ #sidebar{display:flex;} }

    /* Main content */
    .main-content { margin-left:180px; padding:20px; }
    #greeting { display:flex; align-items:center; gap:10px; margin-bottom:20px; }
    #profilePic { width:48px; height:48px; border-radius:50%; background:#eee; }
    #greetingText { font-size:18px; font-weight:500; }

    #addAcquaintancesBtn {
      padding:10px 20px; border:none; background:#4a90e2; color:white;
      border-radius:6px; cursor:pointer;
    }

    /* Dark mode */
    header.dark { background:#1F1F1F; color:#eee; }
    header.dark .left nav a { color:#eee; }
    header.dark .right .user-circle { background:#555; }
    header.dark + #sidebar { background:#1F1F1F; border-right:1px solid #444; }
    header.dark + #sidebar a, header.dark + #sidebar .premium-btn { color:#eee; }
    #logo { height:36px; }
    .dark-mode #logo { content: url("boibylonglight.png"); }
  </style>
</head>
<body>
  <header id="header">
    <div class="left">
      <div id="hamburger">☰</div>
      <img id="logo" src="boibylongdark.png" alt="Boiby Logo">
      <nav>
        <a href="#">Discover</a>
        <a href="#">Catalog</a>
        <a href="#">Develop</a>
        <a href="#">Boibucks</a>
      </nav>
    </div>
    <div class="right">
      <div class="user-circle"></div>
      <span id="username">Guest</span>
      <span></span>
      <img src="bgreen.png" alt="Boibucks">
      <span>0</span>
    </div>
  </header>

  <div id="sidebar">
    <a id="homeLink" href="#">Home</a>
    <a id="profileLink" href="#">Profile</a>
    <a href="#">Discover</a>
    <a href="#">Catalog</a>
    <a id="acquaintancesLink" href="#">Acquaintances</a>
    <a href="#">Chat</a>
    <a href="#">Trade</a>
    <a href="#">Money</a>
    <a href="#">Develop</a>
    <a href="#">Premium</a>
    <button style="display:none" class="premium-btn">Get Premium</button>
  </div>

  <div class="main-content">
    <div id="greeting">
      <div id="profilePic"></div>
      <span id="greetingText">Hello!</span>
    </div>
    <button id="addAcquaintancesBtn">Add Acquaintances</button>
    <button id="downloadAppBtn" style="margin-top:20px; padding:10px 20px; border:none; background:#4CAF50; color:white; border-radius:6px; cursor:pointer;">
    Download Boiby App
    </button>
</div>

  </div>


<!-- Modal -->
<div id="downloadModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:10000; justify-content:center; align-items:center;">
  <div style="background:#fff; padding:20px; border-radius:8px; max-width:400px; width:90%; text-align:center; position:relative;">
    <h2>Download the Boiby App</h2>
    <p id="osRequirements">Detecting your OS...</p>
    <button id="osDownloadBtn" style="padding:10px 20px; border:none; background:#4CAF50; color:white; border-radius:6px; cursor:pointer;">Download</button>
    <button id="closeModalBtn" style="position:absolute; top:10px; right:10px; background:transparent; border:none; font-size:18px; cursor:pointer;">×</button>
  </div>
</div>
<!-- Modal -->
<div id="downloadModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 10000; justify-content: center; align-items: center;">
  <div style="background:#fff; padding:20px; border-radius:8px; max-width:450px; width:90%; text-align:center; position:relative;">
    <h2>Download the Boiby App</h2>
    <p id="osRequirements">Requires macOS 11 or later</p>
    
    <!-- Main OS Download -->
    <button id="osDownloadBtn" style="padding:10px 20px; border:none; background:#4CAF50; color:white; border-radius:6px; cursor:pointer;">Download for macOS (Version 3.0)</button>
    
    <!-- Another OS toggle -->
    <div style="margin-top:12px;">
      <button id="showOtherOS" style="background:transparent; border:none; color:#4a90e2; cursor:pointer; font-size:14px; text-decoration:underline;">Download for another OS</button>
      <div id="otherOSOptions" style="display:none; margin-top:10px;">
        <button id="winDownloadBtn" style="padding:8px 16px; border:none; background:#4CAF50; color:white; border-radius:6px; cursor:pointer; margin:5px 0;">Download for Windows (Version 3.0)</button>
        <button id="linuxDownloadBtn" style="padding:8px 16px; border:none; background:#4CAF50; color:white; border-radius:6px; cursor:pointer; margin:5px 0;">Download for Linux (Version 3.0)</button>
      </div>
    </div>
    
    <!-- Steps -->
    <div id="downloadSteps" style="display:none; text-align:left; margin-top:20px;">
      <h3>Next Steps:</h3>
      <ol style="padding-left:20px; margin-top:8px;">
        <li>Open the downloaded file.</li>
        <li>Follow the installation prompts.</li>
        <li>Launch Boiby from your Applications or Start Menu.</li>
        <li>Log in with your Boiby account.</li>
      </ol>
    </div>
    
    <button id="closeModalBtn" style="position:absolute; top:10px; right:10px; background:transparent; border:none; font-size:18px; cursor:pointer;">×</button>
  </div>
</div>

<script>
  function detectOS() {
    const platform = navigator.userAgent || navigator.platform;
    if (/Mac/i.test(platform)) return 'macOS';
    if (/Win/i.test(platform)) return 'Windows';
    if (/Linux/i.test(platform)) return 'Linux';
    if (/Android/i.test(platform)) return 'Android';
    if (/iPhone|iPad|iPod/i.test(platform)) return 'iOS';
    return 'Unknown';
  }

  const downloadBtn = document.getElementById('downloadAppBtn');
  const modal = document.getElementById('downloadModal');
  const closeModalBtn = document.getElementById('closeModalBtn');
  const osDownloadBtn = document.getElementById('osDownloadBtn');
  const osRequirements = document.getElementById('osRequirements');
  const showOtherOS = document.getElementById('showOtherOS');
  const otherOSOptions = document.getElementById('otherOSOptions');
  const winDownloadBtn = document.getElementById('winDownloadBtn');
  const linuxDownloadBtn = document.getElementById('linuxDownloadBtn');
  const steps = document.getElementById('downloadSteps');

  let downloadLink = '#';

  downloadBtn.addEventListener('click', () => {
    const os = detectOS();
    let minVersionText = '';

    switch(os) {
      case 'macOS':
        minVersionText = 'Requires macOS 11 or later and Metal capable GPU';
        downloadLink = 'https://boiby.itch.io/boiby';
        break;
      case 'Windows':
        minVersionText = 'Requires Windows 10 or later with Vulkan supported GPU';
        downloadLink = 'https://boiby.itch.io/boiby';
        break;
      case 'Linux':
        minVersionText = 'Requires modern distro wih Vulkan supported GPU';
        downloadLink = 'https://boiby.itch.io/boiby';
        break;
      default:
        minVersionText = 'Download for your platform';
        downloadLink = 'https://boiby.itch.io/boiby';
        break;
    }

    osRequirements.textContent = minVersionText;
    osDownloadBtn.textContent = `Download for ${os} (Version 3.0)`;
    osDownloadBtn.onclick = () => { 
      window.location.href = downloadLink; 
      steps.style.display = 'block';
    };

    modal.style.display = 'flex';
    steps.style.display = 'none'; // reset
    otherOSOptions.style.display = 'none'; // reset
  });

  closeModalBtn.addEventListener('click', () => {
    modal.style.display = 'none';
  });

  window.addEventListener('click', (e) => {
    if(e.target == modal) modal.style.display = 'none';
  });

  showOtherOS.addEventListener('click', () => {
    otherOSOptions.style.display = otherOSOptions.style.display === 'none' ? 'block' : 'none';
  });

  winDownloadBtn.onclick = () => {
    window.location.href = '/downloads/boiby-windows.exe';
    steps.style.display = 'block';
  };

  linuxDownloadBtn.onclick = () => {
    window.location.href = '/downloads/boiby-linux.AppImage';
    steps.style.display = 'block';
  };
</script>

</body>
</html>
